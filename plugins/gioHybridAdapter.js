!function(){"use strict";var e=function(e){return null==e||void 0===e},i=function(i){return e(i)?"":"".concat(i)},r=function(i,t){if(!function(i){return"[object Object]"==={}.toString.call(i)&&!e(i)}(i))return!1;try{if("string"===n(t))return delete i[t];if("array"===n(t))return t.map((function(e){return delete i[e]}));"object"===n(t)&&t.constructor===RegExp&&function(e){return"object"===n(e)?Object.keys(e):[]}(i).forEach((function(e){t.test(e)&&r(i,e)}))}catch(e){return!1}},n=function(e){var i=typeof e;return"object"===i?null===e?"null":function(e){return Array.isArray(e)&&"[object Array]"==={}.toString.call(e)}(e)?"array":i:i},t=function(e){try{return e()}catch(e){return}},o=["VIEW_CLICK","VIEW_CHANGE","FORM_SUBMIT","PAGE","CUSTOM","LOGIN_USER_ATTRIBUTES"],d=["LOGIN_USER_ATTRIBUTES"];window.gioHybridAdapter={name:"gioHybridAdapter",method:function(e){var n=this;this.growingIO=e,this.penetrateHybrid=!0,this.main=function(e){var r;n.projectId=e.projectId,"boolean"==typeof e.penetrateHybrid&&(n.penetrateHybrid=e.penetrateHybrid),n._initHybridBridge();var t=n.projectId===(null===(r=n.hybridConfig)||void 0===r?void 0:r.projectId);if(t){var o=n.growingIO.emitter;null==o||o.on("USERID_UPDATE",(function(e){var r=e.newUserId,t=e.oldUserId,o=e.userKey;n.penetrateHybrid&&(!r&&t?o?n._clearNativeUserIdAndUserKey():n._clearNativeUserId():o?n._setNativeUserIdAndUserKey(i(r),i(o)):n._setNativeUserId(i(r)))})),null==o||o.on("USERKEY_UPDATE",(function(e){var r=e.newUserKey,t=e.oldUserKey,o=e.userId;n.penetrateHybrid&&(!r&&t?n._clearNativeUserIdAndUserKey():n._setNativeUserIdAndUserKey(i(o),i(r)))}))}return t},this._initHybridBridge=function(){var e,i,r;n.hasHybridBridge=!!window.GrowingWebViewJavascriptBridge,n.hasHybridBridge&&((null===(e=null===window||void 0===window?void 0:window.GrowingWebViewJavascriptBridge)||void 0===e?void 0:e.configuration)||(window.GrowingWebViewJavascriptBridge.configuration=JSON.parse(window.GrowingWebViewJavascriptBridge.getConfiguration())),(null===(i=null===window||void 0===window?void 0:window.GrowingWebViewJavascriptBridge)||void 0===i?void 0:i.configuration)&&(n.hybridConfig=null===(r=null===window||void 0===window?void 0:window.GrowingWebViewJavascriptBridge)||void 0===r?void 0:r.configuration))},this.onSendBefore=function(e){var i,t,a=e.requestData;n.hasHybridBridge&&o.includes(a.eventType)&&(d.includes(a.eventType)?n.penetrateHybrid&&(null===(i=window.GrowingWebViewJavascriptBridge)||void 0===i||i.dispatchEvent(JSON.stringify(a))):(n.penetrateHybrid||(r(a,"userId"),r(a,"userKey"),r(a,"cs1")),null===(t=window.GrowingWebViewJavascriptBridge)||void 0===t||t.dispatchEvent(JSON.stringify(a))))},this._setNativeUserId=function(e){t((function(){return window.GrowingWebViewJavascriptBridge.setNativeUserId(e)}))},this._clearNativeUserId=function(){t((function(){return window.GrowingWebViewJavascriptBridge.clearNativeUserId()}))},this._setNativeUserIdAndUserKey=function(e,i){t((function(){return window.GrowingWebViewJavascriptBridge.setNativeUserIdAndUserKey(e,i)}))},this._clearNativeUserIdAndUserKey=function(){t((function(){return window.GrowingWebViewJavascriptBridge.clearNativeUserIdAndUserKey()}))}}}}();
