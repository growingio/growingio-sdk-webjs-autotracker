!function(){"use strict";function o(o,e,i){if(i||2===arguments.length)for(var n,r=0,t=e.length;t>r;r++)!n&&r in e||(n||(n=[].slice.call(e,0,r)),n[r]=e[r]);return o.concat(n||[].slice.call(e))}var e,i=function(o){return null==o||void 0===o},n=function(o){return Array.isArray(o)&&"[object Array]"==={}.toString.call(o)},r={}.hasOwnProperty,t=function(o,e){return!i(o)&&r.call(o,e)},g=function(o){return"object"===s(o)?Object.keys(o):[]},s=function(o){var e=typeof o;return"object"===e?null===o?"null":n(o)?"array":e:e},a={},c={}.hasOwnProperty;function l(o){try{return decodeURIComponent(o.replace(/\+/g," "))}catch(o){return null}}function d(o){try{return encodeURIComponent(o)}catch(o){return null}}a.stringify=function(o,e){e=e||"";var i,n,r=[];for(n in"string"!=typeof e&&(e="?"),o)if(c.call(o,n)){if((i=o[n])||null!=i&&!isNaN(i)||(i=""),n=d(n),i=d(i),null===n||null===i)continue;r.push(n+"="+i)}return r.length?e+r.join("&"):""},a.parse=function(o){for(var e,i=/([^=?#&]+)=?([^&]*)/g,n={};e=i.exec(o);){var r=l(e[1]),t=l(e[2]);null===r||null===t||r in n||(n[r]=t)}return n};var u=o(["gioappid","giocs1","giodatacollect","gioprojectid","gios","giou"],["gioappchannel","giodevicebrand","giodevicemodel","giodevicetype","giolanguage","gionetworkstate","giooperatingsystem","gioplatform","gioplatformversion","gioscreenheight","gioscreenwidth"],!0),f=o(["giodatasourceid","gioid"],["giouserkey"],!0),p={gioappchannel:"appChannel",giodevicebrand:"deviceBrand",giodevicemodel:"deviceModel",giodevicetype:"deviceType",giolanguage:"language",gionetworkstate:"networkState",giooperatingsystem:"operatingSystem",gioplatform:"platform",gioplatformversion:"platformVersion",gioscreenheight:"screenHeight",gioscreenwidth:"screenWidth"},h="gio_search_cookie_gioenc";window.gioEmbeddedAdapter={name:"gioEmbeddedAdapter",method:function(r){var s=this;this.growingIO=r,this.main=function(o){var r,c,l=o.projectId,d=o.appId,u=s.getGQS(),f=!1;return"none"!==s.qsFrom&&u.gioprojectid===l&&u.gioappid===d&&((n(c=u)?0!==c.length:function(o){return"[object Object]"==={}.toString.call(o)&&!i(o)}(c)?0!==g(c).length:c)?s.growingIO.storage.setItem(h,a.stringify(u)):s.growingIO.storage.removeItem(h),s.growingIO.setUserId=function(){},s.growingIO.clearUserId=function(){},"cdp"===e&&(s.growingIO.vdsConfig.dataSourceId=u.giodatasourceid,s.growingIO.vdsConfig.ignoreFields=s.growingIO.vdsConfig.ignoreFields.filter((function(o){return t(u,o)})),t(u,"giodatacollect")&&(s.growingIO.vdsConfig.dataCollect=["true",!0].includes(u.giodatacollect),s.growingIO.setDataCollect=function(){},s.growingIO.setOption=function(){})),null===(r=s.growingIO.emitter)||void 0===r||r.on("SDK_INITIALIZED",(function(){s.growingIO.userStore.sessionId=u.gios,s.growingIO.userStore.uid=u.giou,u.gioid&&(s.growingIO.userStore.gioId=u.gioid),u.giocs1&&(s.growingIO.userStore.userId=u.giocs1),"cdp"===e&&t(u,"giouserkey")&&(s.growingIO.userStore.userKey=u.giouserkey),window.setInterval((function(){s.growingIO.userStore.sessionId=u.gios}),.8*s.growingIO.vdsConfig.sessionExpires*60*1e3)})),g(p).forEach((function(o){t(u,o)&&(s.growingIO.dataStore.eventContextBuilderInst.minpExtraParams[p[o]]=u[o])})),f=!0),s.gioURLRewrite(),f},this.getGQS=function(){var i=s.growingIO.vdsConfig.hashtag,n=s.growingIO.storage.getItem(h),r=window.location.search,c=window.location.hash,l=i?c.substring(c.indexOf("?")+1):"",d=a.parse(r),p=a.parse(l),w=a.parse((n||"").replace("gioenc-","")),I="";if(t(d,"gioprojectid"))I=d,s.qsFrom="search";else if(t(p,"gioprojectid"))I=p,s.qsFrom="hash";else{if(!t(w,"gioprojectid"))return s.qsFrom="none",{};I=w,s.qsFrom="cookie"}var v={},m={},O="cdp"===e?o(o([],u,!0),f,!0):u;return g(I).forEach((function(o){var e=o.toLowerCase();O.includes(e)?["","undefined","null",void 0,null].includes(I[o])||(v[e]=I[o],"true"===I[o]&&(v[e]=!0),"false"===I[o]&&(v[e]=!1)):m[o]=I[o]})),s.gqs=v,s.ngqs=m,v},this.gioURLRewrite=function(){var o=s.growingIO.vdsConfig.hashtag,e=window.location.search,i=window.location.hash,n=!1;if("search"===s.qsFrom&&(e=a.stringify(s.ngqs,!0),n=!0),o&&"hash"===s.qsFrom&&(i="".concat(i.split("?")[0]).concat(a.stringify(s.ngqs,!0)),n=!0),n){var r="".concat(window.location.pathname).concat(e||"").concat(i||"");window.history.replaceState(null,document.title,r)}},e=this.growingIO.gioEnvironment,this.gqs={},this.ngqs={},this.qsFrom="search"}}}();
